
complete invariant 
    = knot type of K 
    > presentation type of pi(R^3-K)
    > sequence of elementary ideal
    > sequence of knot polynomial

two methods:
    1) partition
        first, we can tell untied from others
        more invariants more refinement
    2) diagram
        we enumerate all reduced diagrams, as if they are all different.
        once find out flypes relate two diagrams, then merge them.


knot polynomials can be defined in terms of the elementary ideals
    knot polynomials depend for their existence and uniqueness on the spceiaI algebraic properties of the abelianized group of a knot group


knot group ::= fundamental group of the complement of a tame knot.

[the abelianized group of every knot group is infinite cyclic]
    // obviously??
    // but pi(torus) is free abelian group of rank 2

[the abelianized group of group of every link with n-component is free abelian group of rank n]
    // knots are links with a single component.
    // over presentation is defined for link
    
    assume k-th overpass of i-th component -> underpass -> (k+1)-th overpass of i-th component
    relator[i][k] = x[i][k](expr)x[i][k+1]^-1(expr)^-1
    since now abelianized ==>>
        relator[i][k] = x[i][k]x[i][k+1]^-1
        ==>> x[i][k] = x[i][k+1]
        ==>> all generators {x[i][k] | k} are equal
        ==>> only n generators {x[i][0] | i}


def FA<n> ::= free abelian group of rank n
def FA[X] ::= free abelian group with generators X

[group ring of free abelian group]
    J[FA<n>]
    def JA[X] ::= J[FA[X]]


[ring]
    see "ring - from chapter 8.txt"


[knot polynomial of finite presentation]
    k-th knot polynomial of finite presentation (X:R) ::= the g.c.d. of the determinants of all (n - k) by (n - k) submatrices of the m by n Alexander matrix of (X:R)
    v.s. 
        k-th elementary ideal of finite presentation (X:R) ::= the ideal generated by the determinants of all (n - k) by (n - k) submatrices of the m by n Alexander matrix of (X:R)

    since [unique factorization domain JA[X]] ==>> gcd domain
    knot_polynomial[k, (X:R)] = gcd(det(sub) for sub in allsub(n-k by n-k, Alexander_matrix(x:R) where n=|X|)
    elementary_ideal[k, (X:R)] = generated_ideal(det(sub) for sub in allsub(n-k by n-k, Alexander_matrix(x:R) where n=|X|)
    knot_polynomial[k, (X:R)] = gcd(elementary_ideal[k, (X:R)])
    knot_polynomial[k, (X:R)] ~=~ generated_principal_ideal(knot_polynomial[k, (X:R)]) = generated_principal_ideal(elementary_ideal[k, (X:R)])
    
    (3.2) the k-th knot polynomial is the generator of the smallest principal ideal containing the k-th elementary ideal.
        NOTE: polynomial with non-unit highest coefficient.
        e.g. gcd(3x, 2x+1) = 1, but not exist h,g, s.t. 1 = h*3x + g*(2x+1)


// for over-presentation(X:R)
// r[i] = x[k] * expr * x[j]^-1 * expr^-1
// from chapter 7
    Alexander matrix [a[i][i]] of (X:R) ::= 
            a[i][j] = AB . Q . d[x[j]] $ I[r[i]]
    
    fp(X) - fp(1) = sum d[x] fp(X) * (I[x] - I[e[F[X]]]) {x in X}
    fp(1) ::= T fp(X) * I[e[F[X]]]
let fp(X) = r[i], AB . Q $ r[i] = e[?]
    since r[i] = x[k] * expr * x[j]^-1 * expr^-1
    T r[i] = 1 * 1 * 1 * 1 = 1
    fp(1) = T r[i] * I[e[F[X]]] = I[e[F[X]]]
    fp(X) - fp(1) 
        = r[i] - I[e[F[X]]] 
        = sum d[x] fp(X) * (I[x] - I[e[F[X]]]) {x in X}
        = sum d[x] r[i] * (I[x] - I[e[F[X]]]) {x in X}
    AB . Q $ left = AB . Q $ r[i] - I[e[F[X]]] = e[?] - e[?] = 0[?]
    AB . Q $ right = sum (AB . Q $ d[x] r[i]) * (AB . Q $ I[x] - I[e[F[X]]]) {x in X}
        = sum a[i][j] * (AB . Q $ I[x[j]] - I[e[F[X]]]) {x[j] in X} where a[i][j] from Alexander matrix
        = sum a[i][j] * (I[t[pass_idx2link_idx[j]]] - e[?]) {x[j] in X}
        = sum (t[k] - e[?]) * sum a[i][j] {overpass idx j in link[k]} {link[k] in links}
    AB . Q $ I[x[j]] = t[k] /= e[?] ==>> any k, sum a[i][j] {overpass idx j in link[k]} == 0
    ==>> sum A[:][j] {j} == 0[vector] 
    (3.7) can replace one Alexander matrix column by zero vector

    //////
    let r[i] = u*v^-1 // = x[k] * expr * x[j]^-1 * expr^-1
    i.e. u = v as a relation
    d[x] r[i] = d[x] (u*v^-1) = d[x] u * T v^-1 + u * d[x] v^-1
        = d[x] u - u * v^-1 * d[x] v
    Q r[i] = e[?] ==>> Q $ d[x] r[i] = Q $ d[x] u - d[x] v
    
    a[i][j] = (AB . Q $ d[x[j]] r[i]) 
        = (AB . Q $ d[x[j]] (u*v^-1)) 
        = (AB . Q $ d[x[j]] u - d[x[j]] v)
(3.8) The 1st elementary ideal of a knot group is a principal ideal generated by the 1st knot polynomial.
    !!wrong [my proof]!!:
        over-presentation(X:R) ==>> |R|=|X|-1 = (n-1) 
        ==>> Alexander matrix (n-1) by n
        // ERROR: can not diagonalization
        // diagonalize require highest coefficient be unit
        after diagonalized ==>> only one (n-1) by (n-1) submatrix of maybe nonzero det 
        ==>> 1st elementary ideal has only one generater
        ==>> 1st elementary ideal is principal
[Alexander polynomial] ::= 1st knot polynomial

(4.3) Figure-eight knot. 
    |x,y: y (x^-1 y x y^-1) = (x^-1 y x y^-1) x|
    Alexander polynomial = a[0][x] = (AB.Q.d[x]) (y (x^-1 y x y^-1) - (x^-1 y x y^-1) x)
        = (AB.Q) (- y x^-1 + y x^-1 y - (- x^-1 + x^-1 y + x^-1 y x y^-1))
        = -1 + t - (-t^-1 + 1 + 1)
        = t + t^-1 - 3
        -->> t^2 - 3*t + 1


(4.4) Three-lead four bight Turk's head knot
    the elementary ideals E1 and E2 of it are both principal ideals
(4.6)
    E2 of it is nota principal ideal
    E2 = <2-t, 1-2*t> = <3, 2*t-1>
    
(4.5) and (4.6) (Figures 50 and 51) have the same knot polynomials but distinct elementary ideals.
(4.7) (Figures 52 and 53) 
    have same Alexander matrix

(4.8) Granny knot and Square knot (Figures 54 and 55)
    have same knot group






